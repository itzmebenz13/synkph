<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Link Converter | SynkPH</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@1,6..72,300;1,6..72,400;1,6..72,500&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        const savedTheme = localStorage.getItem('shein_pcal_theme');
        if (savedTheme === 'dark') {
            document.documentElement.classList.add('dark');
        }
        
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                        serif: ['"Newsreader"', 'serif'],
                    },
                    animation: {
                        'page-drift': 'drift 20s ease-in-out infinite alternate',
                        'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
                        'fade-in': 'fadeIn 0.6s ease-out forwards',
                        'slide-up': 'slideUp 0.5s ease-out forwards',
                    },
                    keyframes: {
                        drift: {
                            '0%': { transform: 'scale(1) translate(0, 0)' },
                            '100%': { transform: 'scale(1.1) translate(-2%, -2%)' },
                        },
                        shake: {
                            '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                            '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                            '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                            '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            color: #1e293b;
            overflow-x: hidden;
            /* Premium Mesh Background */
            background-color: #f3f4f6;
            background-image: 
                radial-gradient(at 0% 0%, rgba(220, 220, 240, 0.6) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(200, 210, 240, 0.4) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(230, 230, 250, 0.5) 0px, transparent 50%);
        }
        html.dark body { 
            color: #f1f5f9; 
            background-color: #0b0f19;
            background-image: 
                radial-gradient(at 0% 0%, rgba(30, 41, 59, 0.8) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(15, 23, 42, 0.8) 0px, transparent 50%);
        }
        
        /* Ultra-Clean Card */
        .premium-card {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.9);
            box-shadow: 
                0 4px 6px -1px rgba(0, 0, 0, 0.02), 
                0 20px 40px -5px rgba(0, 0, 0, 0.05);
        }
        html.dark .premium-card {
            background: rgba(30, 41, 59, 0.65);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 
                0 4px 6px -1px rgba(0, 0, 0, 0.3), 
                0 20px 40px -5px rgba(0, 0, 0, 0.2);
        }

        /* Modern Input */
        .modern-input {
            width: 100%;
            background: #f1f5f9; /* Slate 100 */
            border: 1px solid transparent;
            padding: 16px 16px 16px 48px;
            border-radius: 16px;
            outline: none;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            font-weight: 500;
            color: #334155;
        }
        .modern-input::placeholder { color: #94a3b8; font-weight: 400; }
        .modern-input:focus {
            background: #ffffff;
            border-color: #cbd5e1;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
            transform: translateY(-1px);
        }
        
        html.dark .modern-input {
            background: rgba(15, 23, 42, 0.6);
            color: #e2e8f0;
        }
        html.dark .modern-input:focus {
            background: rgba(30, 41, 59, 0.8);
            border-color: #475569;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        /* Lock Screen Overlay */
        #lock-screen {
            position: fixed; inset: 0; z-index: 100;
            display: flex; align-items: center; justify-content: center;
            transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1), visibility 0.6s;
            padding: 1.5rem;
        }
        
        #lock-screen.hidden { 
            opacity: 0; 
            visibility: hidden; 
            pointer-events: none;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center relative">

    <!-- LOCK SCREEN -->
    <div id="lock-screen">
        <!-- Blur Backdrop -->
        <div class="absolute inset-0 bg-slate-50/80 dark:bg-slate-950/90 backdrop-blur-3xl transition-opacity duration-700"></div>
        
        <div id="lock-card" class="premium-card p-10 rounded-[2rem] w-full max-w-[360px] text-center transform transition-all relative z-10 flex flex-col items-center">
            
            <!-- Icon -->
            <div class="w-16 h-16 bg-slate-900 dark:bg-white rounded-2xl flex items-center justify-center mb-6 shadow-xl shadow-slate-200 dark:shadow-none">
                <i data-lucide="lock" class="w-7 h-7 text-white dark:text-slate-900"></i>
            </div>

            <h2 class="text-3xl font-serif italic text-slate-900 dark:text-white mb-2 tracking-tight">Restricted</h2>
            <p class="text-sm text-slate-500 dark:text-slate-400 mb-8 font-medium">
                Enter your access key to continue.
            </p>
            
            <!-- Input Group -->
            <div class="relative w-full mb-4 group">
                <div class="absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none">
                    <i data-lucide="key-round" class="w-4 h-4 text-slate-400 group-focus-within:text-slate-900 dark:group-focus-within:text-white transition-colors"></i>
                </div>
                
                <input type="password" id="entry-id" placeholder="Access Key" 
                       class="modern-input font-mono tracking-wider text-center pr-12"
                       onkeydown="if(event.key === 'Enter') checkAccess()">
                
                <button onclick="togglePassword()" class="absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors focus:outline-none">
                    <i id="eye-icon" data-lucide="eye" class="w-4 h-4"></i>
                </button>
            </div>

            <!-- Error -->
            <div class="h-5 w-full mb-4 flex items-center justify-center overflow-hidden">
                <p id="error-msg" class="text-[10px] text-rose-500 font-bold hidden flex items-center gap-1.5 animate-slide-up">
                    <i data-lucide="x-circle" class="w-3 h-3"></i> Invalid Access Key
                </p>
            </div>
            
            <button onclick="checkAccess()" class="w-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold py-4 rounded-2xl hover:translate-y-[-2px] hover:shadow-lg transition-all flex items-center justify-center gap-2 text-sm tracking-wide">
                <span>Unlock Tool</span>
                <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </button>
            
            <a href="index.html" class="mt-6 text-[10px] font-bold text-slate-400 hover:text-slate-900 dark:hover:text-white uppercase tracking-widest transition-colors">
                Cancel
            </a>
        </div>
    </div>

    <!-- MAIN TOOL UI -->
    <div id="main-content" class="w-full max-w-md opacity-0 translate-y-4 transition-all duration-700 ease-out py-10 px-4">
        
        <!-- Header -->
        <div class="flex items-center justify-between mb-8 px-2">
            <a href="index.html" class="w-10 h-10 rounded-full bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm hover:scale-105 transition-transform text-slate-600 dark:text-slate-300 border border-slate-100 dark:border-slate-700">
                <i data-lucide="chevron-left" class="w-5 h-5"></i>
            </a>
            <div class="text-center">
                <h1 class="text-2xl font-serif italic text-slate-900 dark:text-white leading-none">Link Converter</h1>
                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1">Affiliate Utility</p>
            </div>
            <div class="w-10"></div> <!-- Spacer -->
        </div>

        <!-- Main Card -->
        <div class="premium-card p-6 md:p-8 rounded-[2rem] mb-6 relative overflow-hidden">
            <!-- Decorative gradient blur inside card -->
            <div class="absolute top-0 right-0 w-32 h-32 bg-slate-200/50 dark:bg-slate-700/30 rounded-full blur-3xl -mr-10 -mt-10 pointer-events-none"></div>

            <div class="space-y-5 relative z-10">
                
                <!-- Input 1 -->
                <div>
                    <label class="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-2 ml-1">Affiliate ID</label>
                    <div class="relative group">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <i data-lucide="user" class="w-4 h-4 text-slate-400 group-focus-within:text-slate-900 dark:group-focus-within:text-white transition-colors"></i>
                        </div>
                        <input type="number" id="aff-id" class="modern-input" placeholder="e.g. 1749241972">
                    </div>
                </div>

                <!-- Input 2 -->
                <div>
                    <label class="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-2 ml-1">Referral Code</label>
                    <div class="relative group">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <i data-lucide="hash" class="w-4 h-4 text-slate-400 group-focus-within:text-slate-900 dark:group-focus-within:text-white transition-colors"></i>
                        </div>
                        <input type="text" id="ref-code" class="modern-input" placeholder="e.g. S4KJF">
                    </div>
                </div>

                <!-- Input 3 -->
                <div>
                    <label class="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-2 ml-1">ARK Number</label>
                    <div class="relative group">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <i data-lucide="link" class="w-4 h-4 text-slate-400 group-focus-within:text-slate-900 dark:group-focus-within:text-white transition-colors"></i>
                        </div>
                        <input type="number" id="ark-num" class="modern-input" placeholder="e.g. 3120">
                    </div>
                </div>

            </div>

            <!-- Generate Button -->
            <button onclick="generateLink()" class="w-full mt-8 bg-gradient-to-r from-slate-800 to-slate-900 dark:from-white dark:to-slate-200 text-white dark:text-slate-900 font-bold py-4 rounded-2xl shadow-lg shadow-slate-900/10 hover:shadow-xl hover:scale-[1.01] active:scale-[0.99] transition-all flex items-center justify-center gap-2.5 relative overflow-hidden group">
                <!-- Shine Effect -->
                <div class="absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/10 to-transparent z-20"></div>
                
                <i data-lucide="wand-2" class="w-4 h-4"></i>
                <span class="tracking-wide text-sm">Generate Link</span>
            </button>
        </div>

        <!-- Result Card -->
        <div id="result-card" class="premium-card p-6 rounded-[1.5rem] hidden opacity-0 translate-y-4 transition-all duration-500">
            <div class="flex justify-between items-center mb-4">
                <p class="text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span> Generated
                </p>
                <span class="text-[10px] font-bold text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 px-2 py-0.5 rounded-md opacity-0 transition-opacity" id="copy-feedback">Copied</span>
            </div>
            
            <div class="bg-slate-100 dark:bg-slate-900/50 rounded-xl p-4 border border-slate-200 dark:border-slate-700/50 mb-5 relative group cursor-pointer hover:border-slate-300 dark:hover:border-slate-600 transition-colors" onclick="copyLink()">
                <p id="final-link" class="text-xs font-mono text-slate-600 dark:text-slate-300 break-all leading-relaxed"></p>
                <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-white dark:bg-slate-800 p-1.5 rounded-lg shadow-sm">
                    <i data-lucide="copy" class="w-3 h-3 text-slate-400"></i>
                </div>
            </div>

            <div class="flex gap-3">
                <button onclick="copyLink()" class="flex-1 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-bold py-3 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center gap-2 text-xs shadow-sm">
                    <i data-lucide="copy" class="w-3.5 h-3.5"></i> Copy
                </button>
                <button onclick="openLink()" class="flex-1 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold py-3 rounded-xl hover:opacity-90 transition-all flex items-center justify-center gap-2 text-xs shadow-md">
                    <i data-lucide="external-link" class="w-3.5 h-3.5"></i> Open
                </button>
            </div>
        </div>

    </div>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        lucide.createIcons();
        const CORRECT_ID = "G7!pR@9Z#4xM$KQe2^WfA8Y&";
        
        // Base Template
        const BASE_URL = "https://m.shein.com/ph/ark/3120?test=5051&url_from=affiliate_koc_1749241972&scene=1&ad_type=KOC&language=en&siteuid=mph&version_bid=101804616%2C101804641&version_eid=100693341&middle_page_id=7285&ad_test_id=44700&campaign=picklist&koc_id=1749241972&requestId=a5850865162fe&search_redir=1&src_module=search&ici=s1%60EditSearch%60GVY6A%60_fb%60d1%60PageOthers&src_identifier=st%3D2%60sc%3DGVY6A%60sr%3D0%60ps%3D0&tv_b=2&src_tab_page_id=page_pre_search1767742504975&search_words=GVY6A&campaign_id=540&dt_shopping=1&affiliateID=1749241972&ref=S4KJF";

        // Logic
        function checkAccess() {
            const input = document.getElementById('entry-id');
            const card = document.getElementById('lock-card');
            const errorMsg = document.getElementById('error-msg');
            
            if(input.value === CORRECT_ID) {
                // Fade out lock screen
                document.getElementById('lock-screen').classList.add('hidden');
                
                // Fade in main content with delay
                const content = document.getElementById('main-content');
                content.classList.remove('opacity-0', 'translate-y-4');
                localStorage.setItem('synkph_affiliate_access', 'true');
            } else {
                // Show Error
                errorMsg.classList.remove('hidden');
                
                // Shake Animation
                card.classList.remove('animate-shake'); 
                void card.offsetWidth; 
                card.classList.add('animate-shake');
                
                // Red Border visual cue
                input.classList.add('border-rose-300', 'bg-rose-50');
                if(document.documentElement.classList.contains('dark')) {
                     input.classList.add('border-rose-900', 'bg-rose-900/10');
                }
                
                setTimeout(() => {
                    input.classList.remove('border-rose-300', 'bg-rose-50', 'border-rose-900', 'bg-rose-900/10');
                }, 1000);
            }
        }

        function togglePassword() {
            const input = document.getElementById('entry-id');
            const icon = document.getElementById('eye-icon');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.setAttribute('data-lucide', 'eye-off');
            } else {
                input.type = 'password';
                icon.setAttribute('data-lucide', 'eye');
            }
            lucide.createIcons();
        }

        // Auto-login check
        if(localStorage.getItem('synkph_affiliate_access') === 'true') {
            document.getElementById('lock-screen').classList.add('hidden');
            document.getElementById('main-content').classList.remove('opacity-0', 'translate-y-4');
        }

        function generateLink() {
            const affId = document.getElementById('aff-id').value.trim();
            const refCode = document.getElementById('ref-code').value.trim();
            const arkNum = document.getElementById('ark-num').value.trim();

            if(!affId || !refCode || !arkNum) {
                // Subtle shake on inputs if empty
                document.querySelectorAll('.modern-input').forEach(el => {
                    if(!el.value) {
                         el.classList.add('border-rose-400');
                         setTimeout(() => el.classList.remove('border-rose-400'), 1000);
                    }
                });
                return;
            }

            let newLink = BASE_URL;
            newLink = newLink.replace('/ark/3120', `/ark/${arkNum}`);
            newLink = newLink.replace(/1749241972/g, affId);
            newLink = newLink.replace('ref=S4KJF', `ref=${refCode}`);

            const resultCard = document.getElementById('result-card');
            const linkText = document.getElementById('final-link');
            
            linkText.textContent = newLink;
            resultCard.classList.remove('hidden');
            setTimeout(() => {
                resultCard.classList.remove('opacity-0', 'translate-y-4');
            }, 10);
            
            // Scroll to result on mobile if needed
            resultCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function copyLink() {
            const link = document.getElementById('final-link').textContent;
            if(!link) return;
            navigator.clipboard.writeText(link).then(() => {
                const feedback = document.getElementById('copy-feedback');
                feedback.classList.remove('opacity-0');
                setTimeout(() => feedback.classList.add('opacity-0'), 2000);
            });
        }

        function openLink() {
            const link = document.getElementById('final-link').textContent;
            if(link) window.open(link, '_blank');
        }
    </script>
</body>
</html>
